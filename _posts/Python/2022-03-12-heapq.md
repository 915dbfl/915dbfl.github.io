---
title: "[Python] heapq ëª¨ë“ˆ ì‚¬ìš©í•˜ê¸°"
excerpt: "heapqë¥¼ í†µí•œ ìµœì†Œ/ìµœëŒ€ í™"
categories:
  - Python
tag:
 - python
 - heapq

last_modifeid_at: 2022-03-12
toc: true
toc_sticky: true
search: true
---

## ğŸ‘©heapq ëª¨ë“ˆ
íŒŒì´ì¬ì—ì„œ heapì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” heapq(í™í) ë‚´ì¥ ëª¨ë“ˆì„ ì‚¬ìš©í•œë‹¤.

  ```
  import heapq
  ```

<br>

## ğŸ™‹â€â™€ï¸ ìµœì†Œ í™ ì‚¬ìš©í•˜ê¸°
```
heap = []
```
* heapq ëª¨ë“ˆì„ ì‚¬ìš©í•œë‹¤ë©´ ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ë¥¼ **ìµœì†Œí™**ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
* heapq ëª¨ë“ˆì˜ ì‚½ì…, ì‚­ì œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ **ìƒì„±í•œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì£¼ì–´ì•¼ í•œë‹¤.**

<br>

### â˜ï¸ì›ì†Œ ì¶”ê°€: heapq.heappush()
* **heapq.heappush(ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸, ì¶”ê°€í•  ì›ì†Œ)**
  * ì‹œê°„ë³µì¡ë„: O(logN)

  ```
  heapq.heappush(heap, 1)
  heapq.heappush(heap, 10)
  heapq.heappush(heap, 2)

  print(heap) # [1, 2, 10]
  ```

* ìµœì†Œí™ì´ê¸° ë•Œë¬¸ì— **ê°€ì¥ ì‘ì€ ê°’**ì€ ì¸ë±ìŠ¤ **0**ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.
  * **heap[0]**ë¥¼ ì¶œë ¥í•  ê²½ìš° **ìµœì†Œê°’**ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

â•ì—¬ê¸°ì„œ ì£¼ì˜â•
* ê·¸ë ‡ë‹¤ê³  ì¸ë±ìŠ¤ 1ì— ë‘ ë²ˆì§¸ë¡œ ì‘ì€ ê°’ì´ ë“¤ì–´ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤! 

<br>

### âœŒï¸ì›ì†Œ ì‚­ì œ: heapq.heappop()
* **heapq.heappop(ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸)**
  * ì‹œê°„ë³µì¡ë„: O(logN)
* ìµœì†Œ ê°’ì´ ë°˜í™˜ë˜ê²Œ ëœë‹¤.

  ```
  print(heapq.heappop(heap)) # 1
  print(heapq.heappop(heap)) # 2
  print(heap) # [10]
  ```
* **ì¸ë±ìŠ¤**ë¥¼ í†µí•´ì„œ ê°’ì„ ì‚­ì œí•˜ì§€ ì•Šê³  ì–»ì„ ìˆ˜ ìˆë‹¤.
  ```
  print(heap[0]) #10
  ```

<br>

### ğŸ‘Œë¦¬ìŠ¤íŠ¸ë¥¼ í™ìœ¼ë¡œ! : heapq.heapify()
* **heapq.heapify(ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸)**
  * ì‹œê°„ë³µì¡ë„: O(N)

  ```
  lst = [1, 10, 2, 5]
  heapq.heapify(heap)
  print(lst) # [1, 2, 5, 10]
  ```

<br>

## ğŸ™‹â€â™€ï¸ ìµœëŒ€í™
  * **(ìš°ì„  ìˆœìœ„, ê°’)** í˜•íƒœì˜ íŠœí”Œì„ heapì— ì¶”ê°€í•¨ìœ¼ë¡œì¨ ìµœëŒ€í™ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

    ```
    lst = [2, 5, 4, 9, 1]
    heap = []

    for i in lst:
      heapq.heappush(heap, (-i, i)) # ê°€ì¥ í° ê°’ì´ ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.

    print(heap) # [(-9, 9), (-5, 5), (-4, 4), (-2, 2), (-1, 1)]

    while heap:
      print(heapq.heappop(heap)[1]) # 9 5 4 2 1

    ```
  

## ğŸ“ƒ ì°¸ê³ 
* [https://www.daleseo.com/python-heapq/](https://www.daleseo.com/python-heapq/)
* [https://docs.python.org/ko/3/library/heapq.html](https://docs.python.org/ko/3/library/heapq.html)