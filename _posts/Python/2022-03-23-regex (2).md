---
title: "[Python] ì •ê·œ í‘œí˜„ì‹(2)"
excerpt: "ë‹¤ì–‘í•œ ë©”ì†Œë“œ, ì»´íŒŒì¼ ì˜µì…˜, ras string"
categories:
  - Python
tag:
 - python
 - regex

last_modifeid_at: 2022-03-23
toc: true
toc_sticky: true
search: true
---

<br>

# ğŸ‘© re : íŒŒì´ì¬ ì •ê·œì‹ ì§€ì› ëª¨ë“ˆ
* re : regular expression ì•½ì
* ì‚¬ìš©ë²• : íŒŒì´ì¬ì„ ì„¤ì¹˜í•  ë•Œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ë¯€ë¡œ importë§Œ ì§„í–‰í•˜ë©´ ëœë‹¤.
  ```
  import re
  ```

<br>

# ğŸ‘© ë¬¸ìì—´ ê²€ìƒ‰ ë©”ì†Œë“œ 4ê°€ì§€

## â¬› match() : ë¬¸ìì—´ ì²« ë¶€ë¶„ë¶€í„° ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ”ì§€ ì¡°ì‚¬

```
>>> import re
>>> print(re.match('[a-z]+', 'ab'))
>>> print(re.match('[a-z]+', '123'))

<re.Match object; span=(0, 2), match='ab'>
None
```
* ì •ê·œì‹ê³¼ ë§¤ì¹˜ë  ê²½ìš° match ê°ì²´ë¥¼ ëŒë ¤ì£¼ê³ , ë§¤ì¹˜ë˜ì§€ ì•Šì„ ê²½ìš° Noneì„ ëŒë ¤ì¤€ë‹¤.

<br>

## â¬› search() : ë¬¸ìì—´ ì „ì²´ì—ì„œ ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ”ì§€ ì¡°ì‚¬
```
>>> import re
>>> print(re.search('[a-z]+', 'ab'))
>>> print(re.search('[a-z]+', '123cc'))

<re.Match object; span=(0, 2), match='ab'>
<re.Match object; span=(3, 5), match='cc'>
```
* ì •ê·œì‹ê³¼ ë§¤ì¹˜ë  ê²½ìš° match ê°ì²´ë¥¼ ëŒë ¤ì£¼ê³ , ë§¤ì¹˜ë˜ì§€ ì•Šì„ ê²½ìš° Noneì„ ëŒë ¤ì¤€ë‹¤.
* '123cc'ì˜ ê²½ìš°, ë¬¸ìì—´ **ì „ì²´**ë¥¼ ê²€ìƒ‰í•˜ê¸° ë•Œë¬¸ì— **"cc" ë¬¸ìì—´**ì´ ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ê²Œ ëœë‹¤.

<br>

## â¬› findall() : ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ” ëª¨ë“  ë¬¸ìì—´ì„ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ëŒë ¤ì¤€ë‹¤.
```
>>> import re
>>> print(re.findall('[a-zA-z]+', 'Have a nice day!'))

['Have', 'a', 'nice', 'day']
```

<br>

## â¬› finditer() : ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ” ëª¨ë“  ë¬¸ìì—´ì„ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ í˜•íƒœë¡œ ëŒë ¤ì¤€ë‹¤.
```
>>> import re
>>> matches = re.finditer('[a-zA-z]+', 'Have a nice day!')
>>> print(matches)

<callable_iterator object at 0x7f1d82b2c4f0>

>>> for match in matches: print(match)

<re.Match object; span=(0, 4), match='Have'>
<re.Match object; span=(5, 6), match='a'>
<re.Match object; span=(7, 11), match='nice'>
<re.Match object; span=(12, 15), match='day'>
```
* findallê³¼ ë™ì¼í•˜ì§€ë§Œ ê²°ê³¼ë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤. ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ì˜ ê° ìš”ì†ŒëŠ” **match ê°ì²´**ì´ë‹¤.

<br>

# ğŸ‘© match ê°ì²´ì— ëŒ€í•œ ë©”ì†Œë“œ

|ë©”ì†Œë“œ|ì—­í• |
|------|---|
|**group()**|ì •ê·œì‹ê³¼ ë§¤ì¹˜ëœ **ë¬¸ìì—´** ë¦¬í„´|
|**start()**|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ **ì‹œì‘** ìœ„ì¹˜ ë¦¬í„´|
|**end()**|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ **ë** ìœ„ì¹˜ ë¦¬í„´|
|**span()**|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ **(ì‹œì‘, ë)** íŠœí”Œ ë¦¬í„´|

ğŸ™„ ê·¸ë ‡ë‹¤ë©´ ì˜ˆë¥¼ í•œ ë²ˆ ì‚´í´ë³´ì!!
```
>>> import re
>>> m = re.search('[a-zA-z]+', '123hello456')
>>> print(m.group())
>>> print(m.start())
>>> print(m.end())
>>> print(m.span())

hello
3
8
(3, 8)
```
* match()ì˜ ê²½ìš° **ì²« ë¶€ë¶„ë¶€í„° ê²€ìƒ‰**ì„ ì‹œì‘í•˜ë¯€ë¡œ start()ì˜ ê°’ì´ í•­ìƒ 0ì´ë‹¤.

<br>

# ğŸ‘© complie() : í•˜ë‚˜ì˜ ì •ê·œì‹ìœ¼ë¡œ ì—¬ëŸ¬ ì‘ì—… ìˆ˜í–‰í•˜ê¸°!
* í•˜ë‚˜ì˜ ì •ê·œì‹ì„ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ê³ ì í•  ê²½ìš°, compile()ë¡œ ë¦¬í„´ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•´ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

```
>>> import re
>>> m = re.compile('[a-zA-z0-9]')
>>> print(m.match('12 ab 34 cd'))
>>> print(m.findall('12 ab 34 cd'))

<re.Match object; span=(0, 1), match='1'>
['1', '2', 'a', 'b', '3', '4', 'c', 'd']
```

<br>

# ğŸ‘© complie í”Œë˜ê·¸
* ì •ê·œì‹ì„ ì»´íŒŒì¼ í•  ë•Œ ì—¬ëŸ¬ í”Œë˜ê·¸ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.

|ì˜µì…˜|ì—­í• |
|------|---|
|**DOTALL(S)**|**Dot(.)**ì´ **ì¤„ë°”ê¿ˆ ë¬¸ì(\n)ë¥¼ í¬í•¨**í•˜ì—¬ ëª¨ë“  ë¬¸ìì™€ ë§¤ì¹˜ë  ìˆ˜ ìˆë‹¤.|
|**IGNORECASE(I)**|**ëŒ€ì†Œë¬¸ìì™€ ê´€ê³„ì—†ì´** ë§¤ì¹˜ ê°€ëŠ¥í•˜ë‹¤.|
|**MULTILINE(M)**|ì—¬ëŸ¬ ì¤„ì— ëŒ€í•´ì„œ ë§¤ì¹˜í•  ìˆ˜ ìˆë‹¤.|
|**VERBOSE(X)**|verbose ëª¨ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë³µì¡í•œ ì •ê·œì‹ì„ ì´í•´í•˜ê¸° ì‰½ê²Œ ì£¼ì„ì„ ë‹¬ ìˆ˜ ìˆë„ë¡ í•œë‹¤.|

<br>

## â¬› DOTALL(S)
* **re.DOTALL / re.s**

```
>>> import re
>>> o = re.compile('a.b')
>>> n = re.compile('a.b', re.DOTALL)

>>> print(o.match('a\nb'))
>>> print(n.match('a\nb'))

None
<re.Match object; span=(0, 3), match='a\nb'>
```
* ê¸°ì¡´ Dot(.)ì€ '\n'ê³¼ ë§¤ì¹˜ë  ìˆ˜ ì—†ë‹¤.
* re.DOTALL í”Œë˜ê·¸ì„ ì ìš©í•  ê²½ìš°, '\n'ê³¼ ë§¤ì¹˜ ê°€ëŠ¥í•˜ë‹¤!

<br>

## â¬› IGNORECASE(I)
* **re.IGNORECASE / re.I**

```
>>> import re
>>> o = re.compile('[a-z]+')
>>> n = re.compile('[a-z]+', re.IGNORECASE)

>>> print(o.match('Python'))
>>> print(o.match('Python'))

None
<re.Match object; span=(0, 6), match='Python'>
```
* [a-z] ì •ê·œì‹ì€ ì†Œë¬¸ìë§Œì„ ì˜ë¯¸í•˜ì§€ë§Œ **re.IGNORECASE í”Œë˜ê·¸**ë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ **ëŒ€ì†Œë¬¸ì ê´€ê³„ì—†ì´** ë§¤ì¹˜ê°€ ê°€ëŠ¥í•˜ë‹¤!

<br>

## â¬› MULTILINE(M)
* **re.MULTILINE / re.M**
* ë©”íƒ€ ë¬¸ì **^**, **$**ì™€ ê´€ë ¨ì´ ìˆëŠ” ì˜µì…˜ì´ë‹¤.
  * ^ : ë¬¸ìì—´ì˜ **ì²˜ìŒ**ì„ ì˜ë¯¸í•œë‹¤. ^ ë’¤ì— ìˆëŠ” ë¬¸ìì—´ë¡œ **ì‹œì‘**í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
  * $ : ë¬¸ìì—´ì˜ **ë**ì„ ì˜ë¯¸í•œë‹¤. $ ì•ì— ìˆëŠ” ë¬¸ìì—´ë¡œ **ëë‚œë‹¤**ëŠ” ì˜ë¯¸ì´ë‹¤.

```
>>> import re
>>> o = re.compile("^Hello\s\w+")
>>> n = re.compile("^Hello\s\w+", re.MULTILINE)

>>> data = """Hello everybody!
>>> Nice to meet you!
>>> Hello my friends!
>>> Hello my family!
>>> """

>>> print(o.findall(data))
>>> print(n.findall(data))

['Hello everybody']
['Hello everybody', 'Hello my', 'Hello my']
```
* "^Hello\s\w+" : **Helloë¡œ ì‹œì‘**í•˜ê³  ê·¸ í›„ **whitespace + ë¬¸ì**ê°€ ì™€ì•¼ ë§¤ì¹˜ë˜ëŠ” ì •ê·œì‹ì´ë‹¤.
* í”Œë˜ê·¸ë¥¼ ì ìš©í•˜ê¸° ì´ì „ì—ëŠ” data **ì „ì²´ë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ì¸ì‹**í•´ ì²« ì¤„ë§Œì´ ë§¤ì¹˜ê°€ ëœë‹¤.
* re.MULTILINE í”Œë˜ê·¸ë¥¼ ì ìš©í•  ê²½ìš°, **ê° ì¤„ë§ˆë‹¤** ë§¤ì¹˜ë¥¼ í™•ì¸í•˜ê²Œ ëœë‹¤.

<br>

# ğŸ‘© r : raw string
* íŒ¨í„´ì„ ëª…ì‹œí•  ë•Œ, ë¬¸ìë¥¼ ê·¸ ìì²´ë¡œ í•´ì„ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.

ğŸ™„ ì´ëŸ¬í•œ ê¸°ëŠ¥ì´ ì™œ í•„ìš”í• ê¹Œ? ì•„ë˜ ì˜ˆë¥¼ í†µí•´ì„œ ì‚´í´ë³´ì!
```
\direction
```
* "\direction"ì˜ ë¬¸ìì—´ì„ ì°¾ê³ ì ì •ê·œì‹ì„ ë§Œë“ ë‹¤ê³  ê°€ì •í•´ë³´ì.
* "\d"ëŠ” [0-9]ë¡œ í•´ì„ì´ ë˜ë¯€ë¡œ ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì •ê·œì‹ìœ¼ë¡œ ë§¤ì¹˜ê°€ ëœë‹¤.

```
[0-9]irection
```
ğŸ™„ ë”°ë¼ì„œ "\\"ë¬¸ì ìì²´ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ì„œëŠ” "\\\\"ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
* í•˜ì§€ë§Œ "\\\\"ë¥¼ ì‚¬ìš©í•  ê²½ìš°, íŒŒì´ì¬ ë¬¸ìì—´ ë¦¬í„°ëŸ´ ê·œì¹™ì— ë”°ë¼ "\\\\"ëŠ” "\\"ë¡œ ë³€ê²½ì´ ëœë‹¤.
* ê²°êµ­ "\\"ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” "\\\\"ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ìˆ˜ê³ ê°€ ìƒê¸´ë‹¤.

```
>>> import re
>>> m = re.compile(r'\\direction')

>>> print(m.search("123\direction"))
```
* ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ rë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ "\\"ë¥¼ ë¬¸ì ìì²´ë¡œ í•´ì„í•  ìˆ˜ ìˆê²Œ ë¨ìœ¼ë¡œì¨ "\direction"ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.


<br>

# ğŸ‘© re.split() : êµ¬ë¶„ì ì—¬ëŸ¬ ê°œ ì ìš©!
ğŸ™„ ë¬¸ìì—´ì„ ' 'ë‚˜ ',' ë“± **íŠ¹ì • êµ¬ë¶„ì**ì„ ê°€ì§€ê³  ë¶„ë¦¬í•˜ê³ ì í•  ë•Œ ìš°ë¦¬ëŠ” **split()**ì„ ì‚¬ìš©í•œë‹¤.

ì—¬ê¸°ì„œ **re.split()**ì€ ê·¸ ê¸°ì¤€ì„ **ì •ê·œì‹**ì„ í†µí•´ì„œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì¦‰, **ì—¬ëŸ¬ ê°œ**ì˜ êµ¬ë¶„ìë¥¼ ì ìš©í•˜ê³ ì í•  ê²½ìš°, **re.split()**ì„ ì‚¬ìš©í•œë‹¤.

> "100+20*30-90"

ğŸ™„ ìœ„ ë¬¸ìì—´ì„ <u>ì—°ì‚°ì</u>ë¥¼ êµ¬ë¶„ìë¡œ í•˜ì—¬ ë¶„ë¦¬í•˜ê³ ì í•  ë•Œ, ë‹¤ìŒê³¼ ê°™ì€ ì •ê·œì‹ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.

```
exp = "100+20*30-90"
lst = re.split('[*+-]', exp)
print(lst) # ['100', '20', '30', '90']
```

ğŸ™„ ê·¸ë ‡ë‹¤ë©´ <u>ìˆ«ì</u>ë¥¼ êµ¬ë¶„ìë¡œ í•˜ì—¬ ë¶„ë¦¬í•´ë³´ì!

```
exp = "100+20*30-90"
lst = re.split('[0-9]+', exp)
print(lst) # 	['', '+', '*', '-', '']
```

<br>

### ğŸ””ğŸ™‹â€â™€ï¸ì •ê·œì‹ì—ì„œ () ì‚¬ìš©!ğŸ””

[ê³µì‹ ë¬¸ì„œ](https://docs.python.org/3/library/re.html#re.split)ë¥¼ í™•ì¸í•˜ë©´ split()ì— ëŒ€í•œ ì„¤ëª… ì¤‘ ë‹¤ìŒì˜ ì„¤ëª…ì´ ì¡´ì¬í•œë‹¤.

> Split string by the occurrences of pattern. If capturing parentheses are used in pattern, then the text of all groups in the pattern are also returned as part of the resulting list.

ì¦‰, **()**ì´ íŒ¨í„´ì— ì‚¬ìš©ë  ê²½ìš°, **íŒ¨í„´ ë‚´ ëª¨ë“  ê·¸ë£¹ì˜ í…ìŠ¤íŠ¸ë„ ê²°ê³¼ì— í¬í•¨ëœë‹¤ëŠ” ê²ƒì´ë‹¤.**

ğŸ™„ìœ„ì˜ ì˜ˆì—ì„œ ()ë¥¼ í¬í•¨í•œ ê²°ê³¼ë¥¼ ì‚´í´ë³´ì!
```
exp = "100+20*30-90"
lst = re.split('([*+-])', exp)
print(lst) # 	['100', '+', '20', '*', '30', '-', '90']
```
* êµ¬ë¶„ìë¡œ ì‚¬ìš©ë˜ëŠ” ***, +, -**ë„ ê²°ê³¼ ê°’ì— **í¬í•¨**ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

<br>

## ğŸ“ƒ ì°¸ê³ 
* [ë‚˜ë¬´ìœ„í‚¤ : ì •ê·œ í‘œí˜„ì‹](https://namu.wiki/w/%EC%A0%95%EA%B7%9C%20%ED%91%9C%ED%98%84%EC%8B%9D?from=%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D)
* [https://blog.hexabrain.net/200](https://blog.hexabrain.net/200)
* [https://wikidocs.net/4308](https://wikidocs.net/4308)
* [https://brownbears.tistory.com/506](https://brownbears.tistory.com/506)
* [https://docs.python.org/ko/3/howto/regex.html](https://docs.python.org/ko/3/howto/regex.html)
* [https://yganalyst.github.io/data_handling/memo_6/#4-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-r%EC%9D%98-%EC%9D%98%EB%AF%B8](https://yganalyst.github.io/data_handling/memo_6/#4-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-r%EC%9D%98-%EC%9D%98%EB%AF%B8)