---
title: "[sentry] sentryë€? #1"
excerpt: "ëª¨ë‹ˆí„°ë§ & ë¶„ì„ íˆ´ ë‹¬ê¸°"
categories:
  - Android
tag:
  - android
  - sentry

last_modified_at: 2023-09-10
toc: true
toc_sticky: true
search: true
---

## ğŸ‘©ğŸ»â€ğŸ’» Sentry?

ì•„ë§ˆ í”„ë¡œì íŠ¸ ë¡œê¹…ì„ ìƒê°í•˜ë©´ ê°€ì¥ ë§ì´ ì ìš©ë˜ëŠ” ê²ƒì´ <span style = "background-color:#fff5b1">google analytics</span>ì¼ ê²ƒì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ sentryë€ ë¬´ì—‡ì´ê³ , ìµìˆ™í•œ google analytics ëŒ€ì‹  sentryë¥¼ ì ìš©í•  ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ì„ ë¬´ì—‡ì¼ê¹Œ??

ìš°ì„  sentryë€ ë¬´ì—‡ì¼ê¹Œ?
> Take action on broken lines of code, crashes, and busted API calls with the only developer-first app monitoring platform built to give you answers - not clues.

sentry welcom í˜ì´ì§€ì— ì í˜€ìˆëŠ” ë¬¸ì¥ì´ë‹¤. ì´ ë¬¸ì¥ì—ì„œ í•µì‹¬ì€ <span sytle = "background-color:#fff5b1">take action</span>ê³¼ <span sytle = "background-color:#fff5b1">give you answers - not clues</span>ì´ë¼ ìƒê°í•œë‹¤.

ë‹¨ìˆœ ë¡œê¹…ì˜ ê²½ìš°, ì–´ë””ì„œ crash/errorê°€ ë‚¬ëŠ”ì§€ë¥¼ logë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ë¬¸ì œê°€ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ì™€ ê°™ì€ ì •í™•í•œ ë‹µì„ ì–»ê¸° ìœ„í•´ì„œ ê°œë°œìê°€ ì•±ì„ ë‹¤ì‹œ ë¹Œë“œí•´ë´ì•¼ í•œë‹¤.

í•˜ì§€ë§Œ sentryë¥¼ ì‚¬ìš©í•œë‹¤ë©´ <span style = "background-color:#fff5b1">ì—ëŸ¬ê°€ ë°œìƒí•œ ì½”ë“œ ìœ„ì¹˜ì™€ ê°™ì€ ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ë¥¼ ì¶”ì í•˜ê¸°ì— í¸ë¦¬í•´ì§„ë‹¤!</span> ë˜í•œ, ê·¸ ì™¸ì—ë„ ì„¼íŠ¸ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì€ ì •ë§ ë‹¤ì–‘í•˜ë‹¤. (ì—ëŸ¬ ëª¨ë‹ˆí„°ë§, ì„±ëŠ¥ í…ŒìŠ¤íŠ¸, ì½”ë“œ ì»¤ë²„ë¦¬ì§€...) ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì„ ì˜ í™œìš©í•œë‹¤ë©´ ì•±ì„ ìœ ì§€ë³´ìˆ˜ í•˜ëŠ” ë° ìœ ìš©í•˜ê²Œ í™œìš©ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤!

<br>

## ğŸ‘©ğŸ»â€ğŸ’» í”„ë¡œì íŠ¸ì— sentry ë‹¬ê¸°

1. [sentry í™ˆí˜ì´ì§€](https://sentry.io/signup/?original_referrer=https%3A%2F%2Fsentry.io%2Fwelcome%2F) íšŒì›ê°€ì… / ë¡œê·¸ì¸

2. í”„ë¡œì íŠ¸ ìƒì„± ì§„í–‰
  <img src = "https://drive.google.com/uc?id=1L6rvOEhOWb80RqXcTjKBEmKi0WsZ3fzg" >

3. configure android sdk
  * sentry android sdk ì¶”ê°€
    ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œëŠ” pluginì„ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜ì™€ ìˆë‹¤. í•˜ì§€ë§Œ ë‚˜ì˜ ê²½ìš°, version catelogë¥¼ í†µí•´ pluginì„ ì„¤ì •í•˜ëŠ” ë° ê³„ì†í•´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•´ sentry android sdkë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

      ```kotlin
      dependencies {
        implementation(libs.sentry)
      }
      ```
    
  * android manifest ì„¤ì •
    android manifestì— sentry dsnì„ ë¹„ë¡¯í•œ sentryë¥¼ í†µí•´ ì‚¬ìš©í•  ë‹¤ì–‘í•œ productë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.

    ì—¬ê¸°ì„œ dsnì˜ ê²½ìš°, ë…¸ì¶œì„ í•˜ë©´ ì•ˆë˜ë¯€ë¡œ <span style = "background-color:#fff5b1">local property</span>ì— ê°’ì„ ì €ì¥í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤.

    1. local.propertiesì— ê°’ ì„¤ì •
    
      ```kotlin
      SENTRY_DSN=....
      ```

    2. build.gradleì—ì„œ manifestHolders ì„¤ì •í•´ì£¼ê¸°

      ```kotlin
      android {
        ...

        defaultConfig {
            ...

            manifestPlaceholders["SENTRY_DSN"] = gradleLocalProperties(rootDir).getProperty("SENTRY_DSN")
        }
        ...
      }

      ```

    3. ì„¤ì •í•œ local property ê°€ì ¸ë‹¤ ì“°ê¸°

      ```kotlin

                  <category android:name="android.intent.category.LAUNCHER" />
              </intent-filter>
          </activity>

          <!-- sentry setting -->
          <meta-data android:name="io.sentry.dsn" android:value="${SENTRY_DSN}" />
      ```

4. testí•˜ê¸°
  MainActivityì—ì„œ testing captureë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤!!

  ```kotlin
  ...
      override fun onResume() {
        Sentry.captureMessage("testing SDK setup")
        ...
      }
  ```

## ğŸ‘©ğŸ»â€ğŸ’» ê²°ê³¼

<img src="https://drive.google.com/uc?id=1labHnYMHEXSQLwNYXS-J4alF3RQjsil0">

testing captureê°€ ì˜ ë“¤ì–´ì˜¨ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì¶”í›„ ì•±ì„ ë°°í¬í•˜ê²Œ ëœë‹¤ë©´ performance, code coverage ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í™œìš©í•´ë³´ì•„ì•¼ê² ë‹¤!

+ ì¶”ê°€: ì•ˆë“œë¡œì´ë“œ proguardë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì¶•ì†Œ/ë‚œë…í™”ë¥¼ ì§„í–‰í•˜ê³  ìˆë‹¤ë©´ ì´ì— ëŒ€í•´ì„œë„ sentry ê´€ë ¨ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤. ì´ ë‚´ìš©ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒ ê²Œì‹œê¸€ì— ì •ë¦¬í•´ë³´ë„ë¡ í•˜ê² ë‹¤!

## ğŸ“ƒì°¸ê³ 
* <https://jizard.tistory.com/243>
* <https://lolou.tistory.com/61>