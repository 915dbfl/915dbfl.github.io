---
title: "[Android] MPAndroidChart ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©"
excerpt: "piechart ë§Œë“¤ê¸°"
categories:
  - Android
tag:
  - android 
  - MPAndroidChart library
  - android chart
  - android piechart
  - android circle graph
  - piechart
  - kotlin

last_modified_at: 2021-10-14
toc: true
toc_sticky: true
search: true
---

## Intro

ğŸ‘© ì´ë²ˆ ì‹œê°„ì—ëŠ” ì•ˆë“œë¡œì´ë“œì—ì„œ ë‹¤ì–‘í•œ ì°¨íŠ¸ ë·°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” [MPAndroidChart](https://github.com/PhilJay/MPAndroidChart) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ **ì›í˜•ì°¨íŠ¸(piechart)**ë¥¼ êµ¬í˜„í•´ë³´ê³ ì í•œë‹¤.

ì°¨íŠ¸ì™€ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ì˜ˆì œê°€ ìœ„ ë§í¬ ê¹ƒ í—ˆë¸Œì— ì¡´ì¬í•˜ë‹ˆ í•¨ê»˜ í™•ì¸í•´ë³´ê¸¸ ë°”ë€ë‹¤.


## ğŸ™‹â€â™€ï¸Setup
  * ìš°ì„  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë‹¤ìŒì˜ ì½”ë“œë¥¼ **gradle**ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.

  ```
  buildscript {
    repositories {
        google()
        jcenter()
        # maven ì¶”ê°€!
        maven { url "https://jitpack.io"}
    }
  }
  allprojects {
    repositories {
        jcenter()
        # maven ì¶”ê°€!
        maven { url "https://jitpack.io" }
    }
  }

  ```

  ```
  dependencies {
    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'
  }

  ```

ì—¬ê¸°ê¹Œì§€ê°€ ì¤€ë¹„ê³¼ì • ëì´ë‹¤!

ê·¸ë ‡ë‹¤ë©´ ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ íŒŒì´ì°¨íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ì!

## ğŸ™‹â€â™€ï¸ piechar_activity.xml

ë‹¤ìŒ ì½”ë“œë¥¼ í†µí•´ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì† PieChartë¥¼ ê°€ì ¸ì™€ xmlì— ìš”ì†Œë¥¼ ì¶”ê°€í•  ê²ƒì´ë‹¤.

```
    <com.github.mikephil.charting.charts.PieChart
        android:id="@+id/piechart"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />
```

## ğŸ™‹â€â™€ï¸ PieChartActivity.kt
ğŸ‘© ìš°ì„  ê·¸ë˜í”„ì— í•„ìˆ˜ì ì¸ **ë°ì´í„° ìš”ì†Œ**ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•´ì•¼ í•˜ëŠ”ì§€ ì‚´í´ë³´ì.

* ê·¸ë˜í”„ë¥¼ êµ¬ì„±í•  ìš”ì†Œë“¤ì˜ **ë¦¬ìŠ¤íŠ¸**
  * í•´ë‹¹ datasetì€ **PieEntry**ë¡œ êµ¬ì„±ëœ **ArrayList**ì´ë‹¤.

* ìœ„ datasetê³¼ labelì„ í•¨ê»˜ ì„¤ì •í•´ **PieDataSet** ìš”ì†Œë¥¼ ë§Œë“ ë‹¤.

* í•´ë‹¹ PieDataSetì„ ì‚¬ìš©í•´ ê·¸ë˜í”„ data ì†ì„±ì— ì ìš©í•  **PieData**ë¥¼ êµ¬ì„±í•œë‹¤.

* xmlì— ì† piechartë¥¼ ê°€ì ¸ì™€ **dataë¥¼ ì ìš©í•´ì¤€ë‹¤.**

<br>

ğŸ‘© ì—¬ê¸°ê¹Œì§€ë§Œ ì§„í–‰í•œë‹¤ë©´ ê°€ì¥ <u>ê¸°ë³¸ì ì¸ íŒŒì´ì°¨íŠ¸</u>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

ê°„ë‹¨í•˜ì§€ ì•Šì€ê°€?? ì½”ë“œë¥¼ í™•ì¸í•˜ë©° ë‹¤ì‹œ í•œ ë²ˆ ê·¸ ê³¼ì •ì„ ì•Œì•„ë³´ì!


```
class PieChartActivity : AppCompatActivity() {
    private lateinit var binding: PiechartActivityBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = PiechartActivityBinding.inflate(layoutInflater)
        val view = binding.root
        setContentView(view)
        setTitle("PieChat")

        # ê·¸ë˜í”„ ìƒ‰ ì„¤ì • ì‹œ, í•„ìš”
        val colorItem = arrayListOf<Int>(Color.parseColor("#403660"), Color.parseColor("#6F5BA7"), Color.parseColor("#B19BF1"))

        # 1. ê·¸ë˜í”„ êµ¬ì„± data ìš”ì†Œ
        val dataSet = ArrayList<PieEntry>()
        dataSet.add(PieEntry(10f, "soccer"))
        dataSet.add(PieEntry(20f, "basketball"))
        dataSet.add(PieEntry(50f, "baseball"))
        dataSet.add(PieEntry(10f, "handball"))
        dataSet.add(PieEntry(10f, "swimming"))

        # PieDataSet
        val pieDataSet = PieDataSet(dataSet,"practice")
        pieDataSet.apply {
           # ê·¸ë˜í”„ ì† ë“¤ì–´ê°ˆ datasetì— ìƒ‰ê¹”ë“¤ ì ìš©!
            colors = colorItem
            valueTextColor = Color.WHITE
            valueTextSize = 16f
        }

        # PieData
        val pieData = PieData(pieDataSet)
        binding.piechart.apply {
            # íŒŒì´ì°¨íŠ¸ì— data ì„¤ì •
            data = pieData
            # ê·¸ ì™¸ ì„¤ì •ë“¤!
            centerText = "Percentage of Exercise"
            description.isEnabled = false
            setEntryLabelColor(Color.WHITE)
            setUsePercentValues(true)
            setEntryLabelColor(Color.BLACK)
            animateY(1400, Easing.EaseInOutQuad)
            animate()
        }
    }
}
```
ğŸ‘© íŒŒì´ì°¨íŠ¸ë¥¼ ìœ„í•œ **ë°ì´í„° ì„¤ì •**ì€ ìœ„ ì½”ë“œì™€ ê°™ì´ ê°„ë‹¨í•˜ë‹¤.

ì´ì œ ì›í•˜ëŠ” í˜•íƒœë¡œ ê·¸ë˜í”„ì˜ ëª¨ì–‘ì„ ìˆ˜ì •í•˜ê³ , ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ë©´ ëœë‹¤.

ìœ„ì—ì„œ ì ìš©í•œ ì†ì„±ë“¤ì„ ê°„ë‹¨íˆ ì •ë¦¬í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

* **setUsePercentValues**: ë“¤ì–´ì˜¨ ê°’ì„ percentageë¥¼ ì ìš©í•´ í‘œì‹œ
* **setEntryLabelColor**: íŒŒì´ì°¨íŠ¸ ê° ìš”ì†Œ text ìƒ‰ ì„¤ì •
* **valueTextColor**: íŒŒì´ì°¨íŠ¸ ê° ìš”ì†Œ ë¹„ìœ¨ text ìƒ‰ ì„¤ì •
* **centerText**: íŒŒì´ì°¨íŠ¸ ì¤‘ì•™ì— ë“¤ì–´ì˜¤ëŠ” text
* **description**: íŒŒì´ì°¨íŠ¸ ì˜¤ë¥¸ìª½ í•˜ë‹¨ì— ë“¤ì–´ê°€ëŠ” ì°¨íŠ¸ ì œëª©
* **animateX**: ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì„¤ì •
  * **animate()**ì™€ í•¨ê»˜ ì‚¬ìš©!

ì´ ì™¸ì—ë„ ì •ë§ ë‹¤ì–‘í•œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤!

ğŸ‘© ìœ„ ì½”ë“œë¥¼ ì ìš©í•œ ê²°ê³¼ë¥¼ í•œ ë²ˆ ì‚´í´ë³´ì!
![íŒŒì´ì°¨íŠ¸](https://ifh.cc/g/NG8UM6.png)


## ğŸ™‹â€â™€ï¸ ê¸°ë³¸ ì› ì°¨íŠ¸
ğŸ‘© í•´ë‹¹ ì½”ë“œëŠ” í•„ìê°€ í•„ìš”í•´ ì‘ì„±í•œ ì•„ë¬´ ì†ì„±ë„ ì ìš©í•˜ì§€ ì•Šì€ ê¸°ë³¸ ì› ì°¨íŠ¸ì— ëŒ€í•œ ì½”ë“œì´ë‹¤.

```
class PieChartActivity : AppCompatActivity() {
    private lateinit var binding: PiechartActivityBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = PiechartActivityBinding.inflate(layoutInflater)
        val view = binding.root
        setContentView(view)
        setTitle("PieChat")

        val colorItem = arrayListOf<Int>(Color.parseColor("#403660"), Color.parseColor("#6F5BA7"), Color.parseColor("#B19BF1"))

        val dataSet = ArrayList<PieEntry>()
        dataSet.add(PieEntry(10f, "soccer"))
        dataSet.add(PieEntry(20f, "basketball"))
        dataSet.add(PieEntry(50f, "baseball"))
        dataSet.add(PieEntry(10f, "handball"))
        dataSet.add(PieEntry(10f, "swimming"))

        val pieDataSet2 = PieDataSet(dataSet, "practice")
        pieDataSet2.apply{
            colors = colorItem
            valueTextColor = Color.BLACK
            valueTextSize = 16f
            setDrawValues(false)
        }

        val pieData2 = PieData(pieDataSet2)
        binding.piechart2.apply{
            data = pieData2
            description.isEnabled = false
            setUsePercentValues(true)
            # ê·¸ë˜í”„ íšŒì „ x
            isRotationEnabled = false
            # ê·¸ë˜í”„ ê° ìš”ì†Œ ì„¤ëª… x (ex. baseball, soccer...)
            setDrawEntryLabels(false)
            # ìš”ì†Œ í´ë¦­ ì‹œ, í™•ëŒ€ ê¸°ëŠ¥ x
            setTouchEnabled(false)
            # í•˜ë‹¨ ì™¼ìª½ ìš”ì†Œ ì„¤ëª… x
            legend.isEnabled = false
            # íŒŒì´ì°¨íŠ¸ ì¤‘ê°„ hole í¬ê¸°
            holeRadius = 75F
            setEntryLabelColor(Color.BLACK)
        }
    }
}
```
![ê¸°ë³¸ê²°ê³¼](https://ifh.cc/g/WES1Ml.png)

(ì‚¬ì§„ì˜ í•˜ë‹¨ì— ìœ„ì¹˜í•œ ì°¨íŠ¸ê°€ ìœ„ ì½”ë“œì˜ ê²°ê³¼ì´ë‹¤!)

ê·¸ë ‡ë‹¤ë©´ ì´ë²ˆ ê²Œì‹œê¸€ì€ ì—¬ê¸°ì„œ ë§ˆë¬´ë¦¬í•˜ê² ë‹¤!

ì´ë§Œ!

ë! ~(Ë˜â–¾Ë˜~)

## âœ GIR REPO
* [https://github.com/915dbfl/youlAndroid](https://github.com/915dbfl/youlAndroid)

## ğŸ“ƒì°¸ê³ 

* https://goodgoodminki.tistory.com/entry/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%BD%94%ED%8B%80%EB%A6%B0-%EC%9B%90%ED%98%95-%EA%B7%B8%EB%9E%98%ED%94%84-%ED%8C%8C%EC%9D%B4-%EA%B7%B8%EB%9E%98%ED%94%84-Android-Koltin-Circle-Graph-Pie-Graph
* https://meyouus.tistory.com/23
*https://github.com/PhilJay/MPAndroidChart